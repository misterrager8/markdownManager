{% extends "base.html" %}
{% import "macros.html" as macros with context %}
{% block body %}
<title>{{ current_folder.path.name }}</title>
<div class="d-flex">{{ macros.folder_rename_form(current_folder.path) }}</div>
<div class="fst-italic text-muted small mb-3">
    <span><i class="bi bi-plus"></i> {{ timestamp(current_folder.path.stat().st_birthtime).strftime('%-m/%-d/%y %-I:%M %p') }}</span>
</div>

<div class="modal" id="newFile">
    <div class="modal-dialog">
        <div class="modal-content p-5">
            {{ macros.file_create_form(current_folder.path) }}
        </div>
    </div>
</div>

<div class="modal" id="newLink">
    <div class="modal-dialog">
        <div class="modal-content p-5">
            {{ macros.link_save_form(current_folder.path) }}
        </div>
    </div>
</div>

<a class="btn btn-sm btn-outline-success" data-bs-toggle="modal" data-bs-target="#newFile"><i class="bi bi-filetype-md"></i> New File</a>
<a class="btn btn-sm btn-outline-success" data-bs-toggle="modal" data-bs-target="#newLink"><i class="bi bi-link-45deg"></i> New Link</a>
<a onclick="toggleDiv('delete')" class="btn btn-sm btn-outline-danger"><i class="bi bi-trash3"></i> Delete</a>
<a id="delete" style="display: none;" href="{{ url_for('folders.delete_folder', path=current_folder.path) }}" class="btn btn-sm text-danger">Delete?</a>
<div class="mt-3">
    {% for i in current_folder.get_files() %}
    {{ macros.file_card(i) }}
    {% endfor %}
</div>
{% endblock %}